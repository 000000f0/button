(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{6512:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ChatModal",function(){return n(4420)}])},4420:function(t,e,n){"use strict";n.r(e);var r=n(4051),a=n.n(r),o=n(5893),i=n(7294),c=n(6154);function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(r,a)}function l(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.default=function(t){var e=t.isDarkMode,n=t.onClose,r=(0,i.useState)([]),s=r[0],f=r[1],d=(0,i.useState)(""),h=d[0],p=d[1],v=(0,i.useRef)(null),m=function(){var t,e=(t=a().mark((function t(){var e,n,r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===h.trim()){t.next=17;break}return e={text:h,sender:"user"},f((function(t){return l(t).concat([e])})),p(""),t.prev=4,t.next=8,c.Z.post("https://deva.ark4.xyz",{user_input:h},{headers:{"Content-Type":"application/json"}});case 8:n=t.sent,r=n.data.response,o={text:r,sender:"bot"},f((function(t){return l(t).concat([o])})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.error("Error:",t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,14]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){u(o,r,a,i,c,"next",t)}function c(t){u(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:"chat-modal ".concat(e?"dark-mode":""),children:[(0,o.jsxs)("div",{className:"chat-header",children:[(0,o.jsx)("h2",{children:"Chat History"}),(0,o.jsx)("button",{onClick:n,children:"Close"})]}),(0,o.jsx)("div",{className:"chat-history",ref:v,children:s.map((function(t,e){return(0,o.jsx)("div",{className:"message ".concat(t.sender),children:t.text},e)}))}),(0,o.jsxs)("div",{className:"chat-input",children:[(0,o.jsx)("input",{type:"text",placeholder:"Type your message...",value:h,onChange:function(t){return p(t.target.value)}}),(0,o.jsx)("button",{onClick:m,children:"Send"})]})]})}}},function(t){t.O(0,[154,774,888,179],(function(){return e=6512,t(t.s=e);var e}));var e=t.O();_N_E=e}]);