(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{6512:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ChatModal",function(){return r(4420)}])},4420:function(e,t,r){"use strict";r.r(t);var n=r(4051),o=r.n(n),a=r(5893),c=r(7294),s=r(6154);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,o,a,c){try{var s=e[a](c),i=s.value}catch(u){return void r(u)}s.done?t(i):Promise.resolve(i).then(n,o)}function l(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=function(e){var t=e.isDarkMode,r=e.onClose,n=(0,c.useState)([]),i=n[0],f=n[1],d=(0,c.useState)(""),h=d[0],p=d[1],v=(0,c.useRef)(null),m=function(){var e,t=(e=o().mark((function e(){var t,r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===h.trim()){e.next=17;break}return t={text:h,sender:"user"},f(l(i).concat([t])),p(""),e.prev=4,e.next=8,s.Z.post("http://54.77.216.40:8000",{message:h});case 8:r=e.sent,n=r.data.bot_response,a={text:n,sender:"bot"},f(l(i).concat([a])),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error("Error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){u(a,n,o,c,s,"next",e)}function s(e){u(a,n,o,c,s,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){v.current&&(v.current.scrollTop=v.current.scrollHeight)}),[i]),(0,a.jsxs)("div",{className:"chat-modal ".concat(t?"dark-mode":""),children:[(0,a.jsxs)("div",{className:"chat-header",children:[(0,a.jsx)("h2",{children:"Chat History"}),(0,a.jsx)("button",{onClick:r,children:"Close"})]}),(0,a.jsx)("div",{className:"chat-history",ref:v,children:i.map((function(e,t){return(0,a.jsx)("div",{className:"message ".concat(e.sender),children:e.text},t)})).reverse()}),(0,a.jsxs)("div",{className:"chat-input",children:[(0,a.jsx)("input",{type:"text",placeholder:"Type your message...",value:h,onChange:function(e){return p(e.target.value)}}),(0,a.jsx)("button",{onClick:m,children:"Send"})]})]})}}},function(e){e.O(0,[154,774,888,179],(function(){return t=6512,e(e.s=t);var t}));var t=e.O();_N_E=t}]);